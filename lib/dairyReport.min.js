!function(t,e){"function"==typeof define&&define.amd?define(["fabric"],e):"object"==typeof exports?module.exports=e(require("fabric")):t.DairyReport=e(t.fabric)}(this,function(t){function e(t){return"function"==typeof t}function i(t){}return i.prototype={_styles:{header:{fontSize:16,fill:"rgb(28, 28, 28)",fontFamily:"Tahoma"},subHeader:{fontSize:14,fill:"rgb(28, 28, 28)",fontFamily:"Tahoma"},text:{fontSize:12,fill:"rgb(28, 28, 28)",fontFamily:"Tahoma"}},_width:0,_queue:[],styles:function(t){},add:function(t){var i=t.items,n=this;i.map(function(t){var i=t.type;e(n[i])&&n[i](t)})},header:function(e){var i=new t.Text(e.data,this._styles.header),n=new t.Rect({left:0,height:2,fill:"#00aeb9"});n.marginBottom=10,n.isLine=!0,this._queue.push(i,n)},subHeader:function(e){var i=new t.Text(e.data,this._styles.subHeader);this._queue.push(i)},text:function(e){var i=new t.Text(e.data,this._styles.text),n=this;if(e.maxWidth&&i.getWidth()>e.maxWidth){var a=e.data.split(" "),s="",u="",o=e.maxWidth;a.map(function(e){i=new t.Text(s+e,n._styles.text),i.getWidth()>o?(u+=s+"\n",s=e+" "):s+=e+" "}),u+=s,i=new t.Text(u,this._styles.text)}this._queue.push(i)},blockList:function(e){this._queue.push(new t.Text(e.data.title,this._styles.subHeader));var i=new t.Rect({left:0,height:1,fill:"#00aeb9"}),n=this;i.isLine=!0,i.marginBottom=5,this._queue.push(i),e.data.rows.map(function(e){n._queue.push(new t.Text(e,n._styles.text)),i=new t.Rect({left:0,height:1,fill:"#E6E6E6"}),i.isLine=!0,i.marginBottom=3,n._queue.push(i)})},draw:function(e){var i=new t.StaticCanvas(e),n=0,a=0;this._queue.map(function(t){a=a>t.getWidth()?a:t.getWidth()}),i.setDimensions({width:a}),this._queue.map(function(t){t.setTop(n),n=t.getTop()+t.getHeight(),t.marginBottom&&(n+=t.marginBottom),t.isLine&&(t.width=400),i.add(t)}),this._queue=[]}},i});