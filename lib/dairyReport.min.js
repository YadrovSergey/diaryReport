!function(t,e){"function"==typeof define&&define.amd?define(["fabric"],e):"object"==typeof exports?module.exports=e(require("fabric")):t.DairyReport=e(t.fabric)}(this,function(t){function e(t){return"function"==typeof t}function i(t){}return i.prototype={_styles:{header:{fontSize:16,fill:"rgb(28, 28, 28)",fontFamily:"Tahoma"},subHeader:{fontSize:14,fill:"rgb(28, 28, 28)",fontFamily:"Tahoma"},text:{fontSize:12,fill:"rgb(28, 28, 28)",fontFamily:"Tahoma"}},_topPos:0,_queue:[],_lines:[],styles:function(t){},add:function(t){var i=t.items,n=this;i.map(function(t){var i=t.type;e(n[i])&&n[i](t)})},header:function(e){var i=new t.Text(e.data,this._styles.header),n=new t.Rect({left:0,top:i.getTop()+i.getHeight(),height:2,width:i.getWidth(),fill:"#00aeb9"});n.marginBottom=10,n.isLine=!0,this._queue.push(i,n)},subHeader:function(e){var i=new t.Text(e.data,this._styles.subHeader);this._queue.push(i)},text:function(e){var i=new t.Text(e.data,this._styles.text),n=this;if(e.maxWidth&&i.getWidth()>e.maxWidth){var a=e.data.split(" "),o="",s="",u=e.maxWidth;a.map(function(e){i=new t.Text(o+e,n._styles.text),i.getWidth()>u?(s+=o+"\n",o=e+" "):o+=e+" "}),s+=o,i=new t.Text(s,this._styles.text)}this._queue.push(i)},draw:function(e){var i=new t.StaticCanvas(e),n=0,a=0;this._queue.map(function(t){a=a>t.getWidth()?a:t.getWidth()}),i.setDimensions({width:a}),this._queue.map(function(t){t.setTop(n),n=t.getTop()+t.getHeight(),t.marginBottom&&(n+=t.marginBottom),t.isLine&&(t.width=400),i.add(t)}),this._queue=[]}},i});